<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kesir</title>
</head>
<body>
  <p>Birinci Kesir:</p>
  <input type="number" id="num1" placeholder="Pay (Örn: 3)" />
  <input type="number" id="den1" placeholder="Payda (Örn: 4)" />

  <p>İkinci Kesir:</p>
  <input type="number" id="num2" placeholder="Pay (Örn: 5)" />
  <input type="number" id="den2" placeholder="Payda (Örn: 6)" />

  <br><br>
  <button onclick="calculate('add')">Topla</button>
  <button onclick="calculate('subtract')">Çıkar</button>
  <button onclick="calculate('multiply')">Çarp</button>
  <button onclick="calculate('divide')">Böl</button>
  <button onclick="simplify()">Birinci Kesiri Sadeleştir</button>

  <h2>Sonuç:</h2>
  <p id="result">Henüz bir işlem yapılmadı.</p>

  <script>
    class Fraction {
      constructor(numerator, denominator) {
        if (denominator === 0) {
          throw new Error("Payda sıfır olamaz!");
        }
        this.numerator = numerator;
        this.denominator = denominator;
      }

      simplify() {
        const gcd = (a, b) => (b === 0 ? a : gcd(b, a % b));
        const divisor = gcd(this.numerator, this.denominator);
        this.numerator /= divisor;
        this.denominator /= divisor;

        if (this.denominator < 0) {
          this.numerator *= -1;
          this.denominator *= -1;
        }
        return this;
      }

      static add(f1, f2) {
        const numerator = f1.numerator * f2.denominator + f2.numerator * f1.denominator;
        const denominator = f1.denominator * f2.denominator;
        return new Fraction(numerator, denominator).simplify();
      }

      static subtract(f1, f2) {
        const numerator = f1.numerator * f2.denominator - f2.numerator * f1.denominator;
        const denominator = f1.denominator * f2.denominator;
        return new Fraction(numerator, denominator).simplify();
      }

      static multiply(f1, f2) {
        const numerator = f1.numerator * f2.numerator;
        const denominator = f1.denominator * f2.denominator;
        return new Fraction(numerator, denominator).simplify();
      }

      static divide(f1, f2) {
        if (f2.numerator === 0) {
          throw new Error("Bir kesir sıfıra bölünemez!");
        }
        const numerator = f1.numerator * f2.denominator;
        const denominator = f1.denominator * f2.numerator;
        return new Fraction(numerator, denominator).simplify();
      }

      toString() {
        return `${this.numerator}/${this.denominator}`;
      }
    }

    function getInputFraction(idPrefix) {
      const numerator = parseInt(document.getElementById(`${idPrefix}num`).value);
      const denominator = parseInt(document.getElementById(`${idPrefix}den`).value);
      return new Fraction(numerator, denominator);
    }

    function calculate(operation) {
      try {
        const frac1 = getInputFraction("num1");
        const frac2 = getInputFraction("num2");
        let result;

        switch (operation) {
          case "add":
            result = Fraction.add(frac1, frac2);
            break;
          case "subtract":
            result = Fraction.subtract(frac1, frac2);
            break;
          case "multiply":
            result = Fraction.multiply(frac1, frac2);
            break;
          case "divide":
            result = Fraction.divide(frac1, frac2);
            break;
        }

        document.getElementById("result").textContent = `Sonuç: ${result.toString()}`;
      } catch (error) {
        document.getElementById("result").textContent = `Hata: ${error.message}`;
      }
    }
    //chatcpt den yardım aldım

    function simplify() {
      try {
        const frac = getInputFraction("num1");
        const simplified = frac.simplify();
        document.getElementById("result").textContent = `Sadeleştirilmiş Kesir: ${simplified.toString()}`;
      } catch (error) {
        document.getElementById("result").textContent = `Hata: ${error.message}`;
      }
    }
  </script>
</body>
</html>
